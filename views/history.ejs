<div class="container mt-5 mb-5">
  <h1 class="text-center mb-4">Application History</h1>
  <% if (applications && applications.length > 0) { %>
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>Post Title</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <% applications.forEach(application => { %>
        <tr>
          <td><%= application.post ? application.post.title : "N/A" %></td>
          <td>
            <%= application.startDate ? application.startDate.toDateString() :
            "N/A" %>
          </td>
          <td>
            <%= application.endDate ? application.endDate.toDateString() : "N/A"
            %>
          </td>
          <td>
            <span
              class="badge bg-<%= application.status === 'Accepted' ? 'success' : (application.status === 'Pending' ? 'warning' : 'danger') %>"
            >
              <%= application.status %>
            </span>
          </td>
        </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
  <% } else { %>
  <div class="alert alert-info" role="alert">You have no applications.</div>
  <% } %>
</div>
